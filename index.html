<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíï My Hypertrophy Tracker üíï</title>

<!-- Chart.js CDN for progress graphs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  body {
    font-family: 'Arial', sans-serif;
    background: #ffe6f0;
    color: #330033;
    margin: 10px;
  }
  h1,h2,h3 { margin: 10px 0; }
  .container { display: flex; flex-wrap: wrap; gap: 12px; }
  .card {
    background: #fff0f5;
    padding: 16px;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(255, 182, 193, 0.4);
    flex: 1 1 300px;
  }
  input, select, button { 
    padding: 8px; margin: 4px 0; border-radius: 12px; border: 1px solid #ffb3d9; font-size: 14px; 
  }
  button { cursor: pointer; background: #ff66b3; color: white; border: none; transition:0.2s; }
  button:hover { background: #ff3399; }
  button.secondary { background: #ffcccc; color: #330033; }
  .exercise { padding: 6px; border: 1px dashed #ffb3d9; margin-bottom: 6px; border-radius: 8px; }
  small { color: #660066; }
  .completed { text-decoration: line-through; color: #999; }
</style>
</head>
<body>

<h1>üíï My Hypertrophy + Nutrition Tracker üíï</h1>

<div class="container">
  <!-- Workout Split Selection -->
  <div class="card">
    <h2>Workout Split üèãÔ∏è‚Äç‚ôÄÔ∏è</h2>
    <label>Select Split:</label>
    <select id="split">
      <option value="fullbody">Full Body</option>
      <option value="pushpulllegs" selected>Push/Pull/Legs</option>
      <option value="upperlower">Upper/Lower</option>
      <option value="5day">5-Day Split</option>
      <option value="6day">6-Day Split</option>
    </select>
    <button id="setSplit">Set Split üíñ</button>
    <div id="splitDays" style="margin-top:10px;"></div>
  </div>

  <!-- Today‚Äôs Workout -->
  <div class="card">
    <h2>Today's Workout üèãÔ∏è‚Äç‚ôÄÔ∏è</h2>
    <label>Select Day:</label>
    <select id="daySelect"></select>
    <div id="exercises"></div>
    <button id="saveWorkout">Save Workout ‚úÖ</button>
    <div style="margin-top:10px;"><canvas id="progressChart" width="300" height="200"></canvas></div>
  </div>

  <!-- Nutrition Tracker -->
  <div class="card">
    <h2>Nutrition Tracker üçì</h2>
    <label>Calorie Goal:</label>
    <input id="calGoal" type="number" value="2000">
    <label>Protein Goal (g):</label>
    <input id="proteinGoal" type="number" value="150">

    <h3>Add Food</h3>
    <label>Name:</label>
    <input id="foodName" type="text" placeholder="Chicken breast">
    <div>
      <input id="foodCal" type="number" placeholder="Calories">
      <input id="foodPro" type="number" placeholder="Protein">
      <input id="foodCarb" type="number" placeholder="Carbs">
      <input id="foodFat" type="number" placeholder="Fat">
    </div>
    <button id="addFood">Add Food üçë</button>

    <h3>Today's Log</h3>
    <div id="foodLog"></div>
    <div id="totals" style="margin-top:10px;font-weight:bold;"></div>
  </div>
</div>

<script>
// -------------------- Workout Logic --------------------
const splitSelect = document.getElementById("split");
const setSplitBtn = document.getElementById("setSplit");
const splitDaysEl = document.getElementById("splitDays");
const daySelect = document.getElementById("daySelect");
const exercisesEl = document.getElementById("exercises");
const saveWorkoutBtn = document.getElementById("saveWorkout");

let workoutSplits = {};
let selectedDay = "";
let workoutData = JSON.parse(localStorage.getItem("workouts")||"{}");

// Default exercises
const defaultExercises = {
  push: ["Bench Press","Overhead Press","Incline Dumbbell Press","Tricep Pushdown"],
  pull: ["Pull-ups","Barbell Row","Bicep Curl","Face Pull"],
  legs: ["Squat","Deadlift","Lunge","Leg Press"],
  full: ["Squat","Bench Press","Deadlift","Pull-ups"]
};

function setSplit(){
  const split = splitSelect.value;
  workoutSplits = {};
  if(split==="pushpulllegs"){
    workoutSplits = {Day1:"push",Day2:"pull",Day3:"legs",Day4:"push",Day5:"pull",Day6:"legs"};
  }else if(split==="upperlower"){
    workoutSplits = {Day1:"upper",Day2:"lower",Day3:"upper",Day4:"lower"};
  }else if(split==="fullbody"){
    workoutSplits = {Day1:"full",Day2:"full",Day3:"full"};
  }else if(split==="5day"){
    workoutSplits = {Day1:"push",Day2:"pull",Day3:"legs",Day4:"push",Day5:"pull"};
  }else if(split==="6day"){
    workoutSplits = {Day1:"push",Day2:"pull",Day3:"legs",Day4:"push",Day5:"pull",Day6:"legs"};
  }
  renderDays();
}

function renderDays(){
  daySelect.innerHTML="";
  for(const day in workoutSplits){
    const opt=document.createElement("option");
    opt.value=day; opt.textContent=day;
    daySelect.appendChild(opt);
  }
  selectedDay = daySelect.value;
  renderExercises();
}

daySelect.onchange = ()=>{
  selectedDay = daySelect.value;
  renderExercises();
};

function renderExercises(){
  exercisesEl.innerHTML="";
  const type = workoutSplits[selectedDay];
  const exercises = defaultExercises[type] || [];
  exercises.forEach((ex,i)=>{
    const div = document.createElement("div");
    div.className="exercise";
    div.innerHTML=`
      <strong>${ex}</strong><br>
      Sets: <input type="number" class="setInput" value="3" style="width:50px;">
      Reps: <input type="number" class="repInput" value="10" style="width:50px;">
      Weight (lbs): <input type="number" class="weightInput" value="" style="width:60px;">
    `;
    exercisesEl.appendChild(div);
  });
}

saveWorkoutBtn.onclick = ()=>{
  const exEls = exercisesEl.getElementsByClassName("exercise");
  if(!workoutData[selectedDay]) workoutData[selectedDay]=[];
  workoutData[selectedDay]=[];
  for(const exDiv of exEls){
    workoutData[selectedDay].push({
      name: exDiv.querySelector("strong").textContent,
      sets: +exDiv.querySelector(".setInput").value,
      reps: +exDiv.querySelector(".repInput").value,
      weight: +exDiv.querySelector(".weightInput").value
    });
  }
  localStorage.setItem("workouts",JSON.stringify(workoutData));
  alert("Workout saved! üí™");
  renderChart();
}

// -------------------- Progress Chart --------------------
function renderChart(){
  const ctx = document.getElementById("progressChart").getContext("2d");
  const dayWeights = [];
  const dayLabels = [];
  for(const day in workoutData){
    const weights = workoutData[day].map(e=>e.weight||0);
    const avgWeight = weights.length?weights.reduce((a,b)=>a+b,0)/weights.length:0;
    dayLabels.push(day);
    dayWeights.push(avgWeight);
  }
  if(window.myChart) window.myChart.destroy();
  window.myChart = new Chart(ctx,{
    type:'line',
    data:{
      labels: dayLabels,
      datasets:[{
        label:"Average Weight (lbs)",
        data: dayWeights,
        borderColor:"#ff66b3",
        backgroundColor:"#ffcce6",
        fill:true,
        tension:0.3
      }]
    },
    options:{responsive:true,plugins:{legend:{display:true}}}
  });
}

setSplitBtn.onclick=setSplit;
setSplit();

// -------------------- Nutrition Tracker --------------------
const foodName=document.getElementById("foodName");
const foodCal=document.getElementById("foodCal");
const foodPro=document.getElementById("foodPro");
const foodCarb=document.getElementById("foodCarb");
const foodFat=document.getElementById("foodFat");
const foodLog=document.getElementById("foodLog");
const totals=document.getElementById("totals");
const calGoal=document.getElementById("calGoal");
const proteinGoal=document.getElementById("proteinGoal");

function loadFoods(){return JSON.parse(localStorage.getItem("foods")||"[]");}
function saveFoods(arr){localStorage.setItem("foods",JSON.stringify(arr));}
function renderFoods(){
  const arr=loadFoods();
  foodLog.innerHTML="";
  let cals=0,pro=0,car=0,fat=0;
  arr.forEach((f,i)=>{
    cals+=+f.cal;pro+=+f.pro;car+=+f.carb;fat+=+f.fat;
    foodLog.innerHTML+=`<div>${f.name} ‚Äî ${f.cal} kcal, P:${f.pro} C:${f.carb} F:${f.fat} <button onclick="delFood(${i})" class="secondary">x</button></div>`;
  });
  totals.innerText=`Total: ${cals}/${calGoal.value} kcal, Protein: ${pro}/${proteinGoal.value} g`;
}
function addFood(){
  const f={name:foodName.value,cal:+foodCal.value,pro:+foodPro.value,car:+foodCarb.value,fat:+foodFat.value};
  if(!f.name||!f.cal) return;
  const arr=loadFoods();arr.push(f);saveFoods(arr);renderFoods();
  foodName.value=foodCal.value=foodPro.value=foodCarb.value=foodFat.value="";
}
function delFood(i){
  const arr=loadFoods();arr.splice(i,1);saveFoods(arr);renderFoods();
}
document.getElementById("addFood").onclick=addFood;
renderFoods();

</script>
</body>
</html>
